{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst token_1 = require(\"../../rest/previewIam/v1/token\");\nconst PreviewIamBase_1 = __importDefault(require(\"../../rest/PreviewIamBase\"));\nconst V1_1 = __importDefault(require(\"../../rest/previewIam/V1\"));\nconst NoAuthCredentialProvider_1 = __importDefault(require(\"../../credential_provider/NoAuthCredentialProvider\"));\nconst BaseTwilio_1 = require(\"../../base/BaseTwilio\");\nclass OrgsTokenManager {\n  constructor(params) {\n    this.params = params;\n  }\n  getParams() {\n    return this.params;\n  }\n  async fetchToken() {\n    const noAuthCredentialProvider = new NoAuthCredentialProvider_1.default.NoAuthCredentialProvider();\n    const client = new BaseTwilio_1.Client();\n    client.setCredentialProvider(noAuthCredentialProvider);\n    const tokenListInstance = (0, token_1.TokenListInstance)(new V1_1.default(new PreviewIamBase_1.default(client)));\n    return tokenListInstance.create(this.params).then(token => {\n      return token.accessToken;\n    }).catch(error => {\n      throw new Error(`Error Status Code: ${error.status}\\nFailed to fetch access token: ${error.message}`);\n    });\n  }\n}\nexports.default = OrgsTokenManager;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","token_1","require","PreviewIamBase_1","V1_1","NoAuthCredentialProvider_1","BaseTwilio_1","OrgsTokenManager","constructor","params","getParams","fetchToken","noAuthCredentialProvider","default","NoAuthCredentialProvider","client","Client","setCredentialProvider","tokenListInstance","TokenListInstance","create","then","token","accessToken","catch","error","Error","status","message"],"sources":["D:/agri-community/client/node_modules/twilio/lib/http/bearer_token/OrgsTokenManager.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst token_1 = require(\"../../rest/previewIam/v1/token\");\nconst PreviewIamBase_1 = __importDefault(require(\"../../rest/PreviewIamBase\"));\nconst V1_1 = __importDefault(require(\"../../rest/previewIam/V1\"));\nconst NoAuthCredentialProvider_1 = __importDefault(require(\"../../credential_provider/NoAuthCredentialProvider\"));\nconst BaseTwilio_1 = require(\"../../base/BaseTwilio\");\nclass OrgsTokenManager {\n    constructor(params) {\n        this.params = params;\n    }\n    getParams() {\n        return this.params;\n    }\n    async fetchToken() {\n        const noAuthCredentialProvider = new NoAuthCredentialProvider_1.default.NoAuthCredentialProvider();\n        const client = new BaseTwilio_1.Client();\n        client.setCredentialProvider(noAuthCredentialProvider);\n        const tokenListInstance = (0, token_1.TokenListInstance)(new V1_1.default(new PreviewIamBase_1.default(client)));\n        return tokenListInstance\n            .create(this.params)\n            .then((token) => {\n            return token.accessToken;\n        })\n            .catch((error) => {\n            throw new Error(`Error Status Code: ${error.status}\\nFailed to fetch access token: ${error.message}`);\n        });\n    }\n}\nexports.default = OrgsTokenManager;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,OAAO,GAAGC,OAAO,CAAC,gCAAgC,CAAC;AACzD,MAAMC,gBAAgB,GAAGT,eAAe,CAACQ,OAAO,CAAC,2BAA2B,CAAC,CAAC;AAC9E,MAAME,IAAI,GAAGV,eAAe,CAACQ,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACjE,MAAMG,0BAA0B,GAAGX,eAAe,CAACQ,OAAO,CAAC,oDAAoD,CAAC,CAAC;AACjH,MAAMI,YAAY,GAAGJ,OAAO,CAAC,uBAAuB,CAAC;AACrD,MAAMK,gBAAgB,CAAC;EACnBC,WAAWA,CAACC,MAAM,EAAE;IAChB,IAAI,CAACA,MAAM,GAAGA,MAAM;EACxB;EACAC,SAASA,CAAA,EAAG;IACR,OAAO,IAAI,CAACD,MAAM;EACtB;EACA,MAAME,UAAUA,CAAA,EAAG;IACf,MAAMC,wBAAwB,GAAG,IAAIP,0BAA0B,CAACQ,OAAO,CAACC,wBAAwB,CAAC,CAAC;IAClG,MAAMC,MAAM,GAAG,IAAIT,YAAY,CAACU,MAAM,CAAC,CAAC;IACxCD,MAAM,CAACE,qBAAqB,CAACL,wBAAwB,CAAC;IACtD,MAAMM,iBAAiB,GAAG,CAAC,CAAC,EAAEjB,OAAO,CAACkB,iBAAiB,EAAE,IAAIf,IAAI,CAACS,OAAO,CAAC,IAAIV,gBAAgB,CAACU,OAAO,CAACE,MAAM,CAAC,CAAC,CAAC;IAChH,OAAOG,iBAAiB,CACnBE,MAAM,CAAC,IAAI,CAACX,MAAM,CAAC,CACnBY,IAAI,CAAEC,KAAK,IAAK;MACjB,OAAOA,KAAK,CAACC,WAAW;IAC5B,CAAC,CAAC,CACGC,KAAK,CAAEC,KAAK,IAAK;MAClB,MAAM,IAAIC,KAAK,CAAC,sBAAsBD,KAAK,CAACE,MAAM,mCAAmCF,KAAK,CAACG,OAAO,EAAE,CAAC;IACzG,CAAC,CAAC;EACN;AACJ;AACA7B,OAAO,CAACc,OAAO,GAAGN,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}